/* 2018-1-11 13:24:37 | 版权所有 合肥火星科技有限公司 http://www.marsgis.cn  【联系我们QQ：516584683】 */
mars3d.widget.bindClass(mars3d.BaseWidget.extend({map:null,options:{view:{type:"window",url:"view.html",windowOptions:{width:220,height:440}}},create:function(){},viewWindow:null,winCreateOK:function(t,e){this.viewWindow=e},activate:function(){},disable:function(){},last_region:null,clearLastRegion:function(){null!=this.last_region&&(this.viewer.dataSources.remove(this.last_region),this.last_region=null),this.last_timetemp!=-1&&(clearTimeout(this.last_timetemp),this.last_timetemp=-1)},last_timetemp:-1,showRegionExtent:function(t){this.clearLastRegion();var e=this,i=Cesium.GeoJsonDataSource.load(t,{stroke:new Cesium.Color.fromCssColorString("#ffffff"),strokeWidth:2,fill:new Cesium.Color.fromCssColorString("#ffff00").withAlpha(.5)});i.then(function(t){e.viewer.dataSources.add(t),e.last_region=t,e.viewer.flyTo(t.entities.values,{duration:2})}).otherwise(function(t){window.alert(t)});var e=this;this.last_timetemp=setTimeout(function(){e.clearLastRegion()},5e3)},goHome:function(){this.clearLastRegion(),mars3d.map.centerAt()}}));