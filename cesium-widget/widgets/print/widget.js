/* 2018-1-4 13:11:23 | 版权所有 合肥火星科技有限公司 http://www.marsgis.cn  【联系我们QQ：516584683】 */
var toolPrint=mars3d.widget.bindClass(mars3d.BaseWidget.extend({options:{resources:["view.css"],view:[{type:"append",url:"view.html"}]},create:function(){},winCreateOK:function(i,e){var n=this;$("#btn_print_expimg").click(function(){n.expImg()}),$("#btn_print_start").click(function(){n.printview()}),$("#btn_print_close").click(function(){n.disableBase()})},activate:function(){$(".no-print-view").hide(),$(".cesium-viewer-toolbar").hide(),$(".cesium-viewer-fullscreenContainer").hide()},disable:function(){$(".no-print-view").show(),$(".cesium-viewer-toolbar").show(),$(".cesium-viewer-fullscreenContainer").show()},changeElStylForStart:function(){$(".no-print").hide()},changeElStylForEnd:function(){$(".no-print").show()},printview:function(){this.changeElStylForStart(),window.print(),this.changeElStylForEnd()},expImg:function(){this.changeElStylForStart(),haoutil.msg("正在导出图片，请稍后……"),this.viewer.render(),haoutil.file.downloadImage("地图截图",this.viewer.canvas),this.changeElStylForEnd()}}));